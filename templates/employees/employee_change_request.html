{% extends "base.html" %}
{% block content %}

<div class="container mt-4">

  <div class="card shadow-sm">
    <div class="card-header bg-warning-subtle">
      <h4 class="mb-0">Request Employee Change</h4>
      <small class="text-muted">
        All changes require admin approval
      </small>
    </div>

    <div class="card-body">

      <form method="post">
        {% csrf_token %}

        <!-- ========================= -->
        <!-- BASIC DETAILS -->
        <!-- ========================= -->
        <h6 class="fw-bold mb-3">Basic Information</h6>

        <div class="row g-3">

          <div class="col-md-6">
            <label class="form-label">Name</label>
            <input type="text" class="form-control"
                   name="name" value="{{ employee.name }}">
          </div>

          <div class="col-md-6">
            <label class="form-label">Father Name</label>
            <input type="text" class="form-control"
                   name="father_name" value="{{ employee.father_name }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">UAN</label>
            <input type="text" class="form-control"
                   name="uan_number" value="{{ employee.uan_number }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">ESIC</label>
            <input type="text" class="form-control"
                   name="esic_number" value="{{ employee.esic_number }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">Document Number</label>
            <input type="text" class="form-control"
                   name="document_number" value="{{ employee.document_number }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">Default Salary</label>
            <input type="number" step="0.01"
                   class="form-control"
                   name="default_salary"
                   value="{{ employee.default_salary }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">Exit Date</label>
            <input type="date"
                   class="form-control"
                   name="exit_date"
                   value="{{ employee.exit_date|date:'Y-m-d' }}">
          </div>

        </div>

        <hr class="my-4">

        <!-- ========================= -->
        <!-- BANK DETAILS -->
        <!-- ========================= -->
        <h6 class="fw-bold mb-3">Bank Details Change</h6>

        <div class="row g-3">

          <div class="col-md-4">
            <label class="form-label">Bank Name</label>
            {{ bank_form.new_bank_name }}
          </div>

          <div class="col-md-4">
            <label class="form-label">Account Number</label>
            {{ bank_form.new_account_number }}
          </div>

          <div class="col-md-4">
            <label class="form-label">IFSC</label>
            {{ bank_form.new_ifsc }}
          </div>

          <div class="col-md-3">
            <label class="form-label">Effective Month</label>
            {{ bank_form.effective_month }}
          </div>

          <div class="col-md-3">
            <label class="form-label">Effective Year</label>
            {{ bank_form.effective_year }}
          </div>

        </div>

        <div class="mt-4">
          <button type="submit" class="btn btn-warning px-4">
            Submit Change Request
          </button>
        </div>

      </form>

    </div>
  </div>

</div>

{% endblock %}
